<section>
  <div class="container">

    <h2>Nastavení webu</h2>

    <div class="row">

      <div class="col-3">
        <ul class="nav flex-column">
          <li class="nav-item"><a class="nav-link" routerLink="../obecne" routerLinkActive="active">Obecné nastavení</a></li>
          <li class="nav-item"><a class="nav-link" routerLink="../texty" routerLinkActive="active">Texty</a></li>
        </ul>

      </div>

      <div class="col-9">
        <div class="form" [ngSwitch]="cat">
          <div *ngSwitchCase="'obecne'">
            <h3>Akce</h3>
            
            <codelist-editor [fields]="eventTypeFields" [records]="config.events.types"></codelist-editor>
            
            <h3>Členská databáze</h3>

            <codelist-editor [fields]="memberRoleFields" [records]="config.members.roles"></codelist-editor>

            <h3>Dokumenty</h3>

            <div class="form-group">
              <label for="docmentsUrlInput">Adresa Google Dokumentů</label>
              <input type="url" class="form-control" id="docmentsUrlInput" [(ngModel)]="config.documents.url">
              <small class="form-text text-muted">Zobrazí se v IFRAME.</small>
            </div>


            <button type="button" class="btn btn-secondary" (click)="resetConfig()">Zrušit</button>
            &nbsp;
            <button type="button" class="btn btn-primary" (click)="saveConfig()">Uložit</button>

            <hr>
            
            <input type="checkbox" id="check_viewjson" [(ngModel)]="viewJson"> <label for="check_viewjson">Zobrazit JSON</label>

            <div *ngIf="viewJson" class="json bg-light">
              <textarea [ngModel]="config | json" (ngModelChange)="editJson($event)"></textarea>
              <p>{{jsonError ? "chyba" : "kód OK"}}</p>
            </div>

          </div>

        </div>
      </div>
    </div>


  </div>
</section>
